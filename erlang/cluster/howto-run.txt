# node1
docker exec -it node1 bash
erl -name node1@node1.local -setcookie secretcookie

node().
  
nodes().


net_adm:ping('node2@node2.local').

nodes().




# node2
docker exec -it node2 bash
erl -name node2@node2.local -setcookie secretcookie





# register a process
Pid = spawn(fun() ->
    receive
        Msg -> io:format("Received: ~p~n", [Msg])
    end
end),
register(receiver, Pid).





# register a process and save the message to disk
Pid = spawn(fun() ->
    receive
        Msg ->
            io:format("Received: ~p~n", [Msg]),
            {ok, Fd} = file:open("messages.log", [append]),
            io:fwrite(Fd, "Message: ~p~n", [Msg]),
            file:close(Fd)
    end
end),
register(receiver, Pid).





# node1

# send the message to peer
{receiver, 'node2@node2.local'} ! "Hello from node1!".



